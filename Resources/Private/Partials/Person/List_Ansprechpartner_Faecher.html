      <div class="card mt-3">
        <div class="card-header h4">Ansprechpartner für Fächer
        </div>
        <div class="card-body">
          <f:for each="{personen}" as="person" iteration="personIteration">
            <f:for each="{person.funktionen}" as="funktion" iteration="funktionIteration">	
              <f:if condition="{funktion.uid} > 10 && {function.uid} < 50">
                <f:then>
                  <f:variable name="funktion{funktion.uid}da">1</f:variable>
                  <f:if condition="{funktion.uid} == 11">
                    <f:then>
                    	<f:variable name="deutschcounter">{deutschcounter+1}</f:variable>  
                    </f:then>
                    <f:else>
                      <f:if condition="{funktion.uid} == 12">
                        <f:then>
                            <f:variable name="englischcounter">{englischcounter+1}</f:variable>  
                        </f:then>
                        <f:else>
                          <f:if condition="{funktion.uid} == 13">
                            <f:then>
                                <f:variable name="mathecounter">{mathecounter+1}</f:variable>  
                            </f:then>
                            <f:else>
                              <f:if condition="{funktion.uid} == 26">
                                <f:then>
                                    <f:variable name="wirtschaftcounter">{wirtschaftcounter+1}</f:variable>  
                                </f:then>
                                <f:else>
                                  <f:if condition="{funktion.uid} == 19">
                                    <f:then>
                                        <f:variable name="seminarfachcounter">{seminarfachcounter+1}</f:variable>  
                                    </f:then>
                                    <f:else>
                                      <f:if condition="{funktion.uid} == 25">
                                        <f:then>
                                            <f:variable name="physikcounter">{physikcounter+1}</f:variable>  
                                        </f:then>
                                        <f:else>
                                        </f:else>
                                      </f:if>
                                    </f:else>
                                  </f:if>
                                </f:else>
                              </f:if>
                            </f:else>
                          </f:if>
                        </f:else>
                      </f:if>
                    </f:else>
                  </f:if>                 
                </f:then>
              </f:if>
            </f:for>
          </f:for>
          
          <f:if condition="{funktion11da} == 1">
            <f:then>
              <f:variable name="vardeutsch1">weiteren</f:variable>
              <f:variable name="vardeutsch2">Weiterer</f:variable>
            </f:then>
            <f:else>
              <f:variable name="vardeutsch1"></f:variable>
              <f:variable name="vardeutsch2"></f:variable>              
            </f:else>
          </f:if>
          <f:if condition="{funktion12da} == 1">
            <f:then>
              <f:variable name="varenglisch1">weiteren</f:variable>
              <f:variable name="varenglisch2">Weiterer</f:variable>              
            </f:then>
            <f:else>
              <f:variable name="varenglisch1"></f:variable>
              <f:variable name="varenglisch2"></f:variable>              
            </f:else>
          </f:if>
          <f:if condition="{funktion13da} == 1">
            <f:then>
              <f:variable name="varmathe1">weiteren</f:variable>
              <f:variable name="varmathe2">Weiterer</f:variable>              
            </f:then>
            <f:else>
              <f:variable name="varmathe1"></f:variable>
              <f:variable name="varmathe2"></f:variable>              
            </f:else>
          </f:if>
          <f:if condition="{funktion26da} == 1">
            <f:then>
              <f:variable name="varww1">weiteren</f:variable>
              <f:variable name="varww2">Weiterer</f:variable>              
            </f:then>
            <f:else>
              <f:variable name="varww1"></f:variable>
              <f:variable name="varww2"></f:variable>              
            </f:else>
          </f:if>
          <f:if condition="{funktion19da} == 1">
            <f:then>
              <f:variable name="varsem1">weiteren</f:variable>
              <f:variable name="varsem2">Weiterer</f:variable>              
            </f:then>
            <f:else>
              <f:variable name="varsem1"></f:variable>
              <f:variable name="varsem2"></f:variable>              
            </f:else>
          </f:if>
          <f:if condition="{funktion25da} == 1">
            <f:then>
              <f:variable name="varph1">weiteren</f:variable>
              <f:variable name="varph2">Weiterer</f:variable>              
            </f:then>
            <f:else>
              <f:variable name="varph1"></f:variable>
              <f:variable name="varph2"></f:variable>              
            </f:else>
          </f:if>          
          
          <f:render section="Fachbetreuung" arguments="{personen: personen, institution: institution}" />     

          <f:variable name="counter">0</f:variable>
          <div class="row mt-4">
            <f:if condition="{funktion11da} == 0 || {deutschcounter} < 2">
              <f:then>
                <f:render section="Linkaufbau" arguments="{funktionuid: '11', vartext1: vardeutsch1, vartext2: vardeutsch2, fach: 'Deutsch'}" />                
                <f:variable name="counter">{counter+1}</f:variable>
              </f:then>                
            </f:if>
            <f:if condition="{funktion12da} == 0 || {englischcounter} < 2">
              <f:then>
                <f:render section="Linkaufbau" arguments="{funktionuid: '12', vartext1: varenglisch1, vartext2: varenglisch2, fach: 'Englisch'}" />                 
                <f:variable name="counter">{counter+1}</f:variable>                
              </f:then>                
            </f:if>
            <f:if condition="{funktion13da} == 0 || {mathecounter} < 2">
              <f:then>
                <f:render section="Linkaufbau" arguments="{funktionuid: '13', vartext1: varmathe1, vartext2: varmathe2, fach: 'Mathematik'}" />                 
                <f:variable name="counter">{counter+1}</f:variable>                
              </f:then>                
            </f:if>
            <f:if condition="{counter} == 3">
              <f:then>
               	</div> 
              	<f:variable name="counter">0</f:variable>
              	<div class="row mt-2"> 
              </f:then>
            </f:if>            
            <f:if condition="{funktion14da} == 0">
              <f:then>
                <f:render section="Linkaufbau" arguments="{funktionuid: '14', vartext1: '', vartext2: '', fach: 'Geschichte'}" />                 
                <f:variable name="counter">{counter+1}</f:variable>
              </f:then>
            </f:if>
            <f:if condition="{counter} == 3">
              <f:then>
               	</div> 
              	<f:variable name="counter">0</f:variable>
              	<div class="row mt-2"> 
              </f:then>
            </f:if>            
            <f:if condition="{funktion15da} == 0">
              <f:then>
                <f:render section="Linkaufbau" arguments="{funktionuid: '15', vartext1: '', vartext2: '', fach: 'PuG'}" />                  
                <f:variable name="counter">{counter+1}</f:variable>
              </f:then>
            </f:if>
            <f:if condition="{counter} == 3">
              <f:then>
               	</div> 
              	<f:variable name="counter">0</f:variable>
              	<div class="row mt-2"> 
              </f:then>
            </f:if>            
            <f:if condition="{funktion16da} == 0">
              <f:then>
                <f:render section="Linkaufbau" arguments="{funktionuid: '16', vartext1: '', vartext2: '', fach: 'Religionslehre'}" />                  
                <f:variable name="counter">{counter+1}</f:variable>
              </f:then>
            </f:if>
            <f:if condition="{counter} == 3">
              <f:then>
               	</div> 
              	<f:variable name="counter">0</f:variable>
              	<div class="row mt-2"> 
              </f:then>
            </f:if>
            <f:if condition="{funktion17da} == 0">
              <f:then>       
                <f:render section="Linkaufbau" arguments="{funktionuid: '17', vartext1: '', vartext2: '', fach: 'Ethik'}" />                  
                <f:variable name="counter">{counter+1}</f:variable>
              </f:then>
            </f:if>
            <f:if condition="{counter} == 3">
              <f:then>
               	</div> 
              	<f:variable name="counter">0</f:variable>
              	<div class="row mt-2"> 
              </f:then>
            </f:if>
            <f:if condition="{funktion18da} == 0">
              <f:then>         
                <f:render section="Linkaufbau" arguments="{funktionuid: '18', vartext1: '', vartext2: '', fach: 'Naturwissenschaften'}" />                  
                <f:variable name="counter">{counter+1}</f:variable>
              </f:then>
            </f:if>
            <f:if condition="{counter} == 3">
              <f:then>
               	</div> 
              	<f:variable name="counter">0</f:variable>
              	<div class="row mt-2"> 
              </f:then>
            </f:if>
            <f:if condition="({funktion19da} == 0 || {seminarfachcounter} < 2) && {schulehatseminar} == 1">
              <f:then>            
                <f:render section="Linkaufbau" arguments="{funktionuid: '19', vartext1: varsem1, vartext2: varsem2, fach: 'Seminarfach'}" />                  
                <f:variable name="counter">{counter+1}</f:variable>
              </f:then>
            </f:if>
            <f:if condition="{counter} == 3">
              <f:then>
               	</div> 
              	<f:variable name="counter">0</f:variable> 
              </f:then>
              <f:else>
                </div>
              </f:else>	
            </f:if>
          <f:variable name="counter">0</f:variable>
          <div class="row mt-2">
            <f:if condition="{funktion20da} == 0 && {schulehatabu} == 1">
              <f:then>
                <f:render section="Linkaufbau" arguments="{funktionuid: '20', vartext1: '', vartext2: '', fach: 'Biologie'}" />                  
                <f:variable name="counter">{counter+1}</f:variable>
              </f:then>
            </f:if>
            <f:if condition="{funktion21da} == 0 && {schulehatgst} == 1">
              <f:then>
                <f:render section="Linkaufbau" arguments="{funktionuid: '21', vartext1: '', vartext2: '', fach: 'Gestaltung'}" />                  
                <f:variable name="counter">{counter+1}</f:variable>
              </f:then>
            </f:if>
            <f:if condition="{funktion22da} == 0 && {schulehatgsu} == 1">
              <f:then>
                <f:render section="Linkaufbau" arguments="{funktionuid: '22', vartext1: '', vartext2: '', fach: 'Gesundheitswissenschaften'}" />                  
                <f:variable name="counter">{counter+1}</f:variable>
              </f:then>
            </f:if>
            <f:if condition="{counter} == 3">
              <f:then>
               	</div> 
              	<f:variable name="counter">0</f:variable>
              	<div class="row mt-2"> 
              </f:then>
            </f:if>
            <f:if condition="{funktion23da} == 0 && {schulehatiwi} == 1">
              <f:then>            
                <f:render section="Linkaufbau" arguments="{funktionuid: '23', vartext1: '', vartext2: '', fach: 'Int. BWL und VWL'}" />                  
                <f:variable name="counter">{counter+1}</f:variable>
              </f:then>
            </f:if>
            <f:if condition="{counter} == 3">
              <f:then>
               	</div> 
              	<f:variable name="counter">0</f:variable>
              	<div class="row mt-2"> 
              </f:then>
            </f:if>
            <f:if condition="{funktion24da} == 0 && {schulehatsoz} == 1">
              <f:then>         
                <f:render section="Linkaufbau" arguments="{funktionuid: '24', vartext1: '', vartext2: '', fach: 'Pädagogik/Psychologie'}" />                  
                <f:variable name="counter">{counter+1}</f:variable>
              </f:then>
            </f:if>
            <f:if condition="{counter} == 3">
              <f:then>
               	</div> 
              	<f:variable name="counter">0</f:variable>
              	<div class="row mt-2"> 
              </f:then>
            </f:if>
            <f:if condition="({funktion25da} == 0 || {physikcounter} < 2) && {schulehattec} == 1">
              <f:then>            
                <f:render section="Linkaufbau" arguments="{funktionuid: '25', vartext1: varph1, vartext2: varph2, fach: 'Physik'}" />                  
                <f:variable name="counter">{counter+1}</f:variable>
              </f:then>
            </f:if>
            <f:if condition="{counter} == 3">
              <f:then>
               	</div> 
              	<f:variable name="counter">0</f:variable>
              	<div class="row mt-2"> 
              </f:then>
            </f:if>
            <f:if condition="{funktion32da} == 0  && {schulehattec} == 1">
              <f:then>            
                <f:render section="Linkaufbau" arguments="{funktionuid: '32', vartext1: '', vartext2: '', fach: 'Chemie (T)'}" />                  
                <f:variable name="counter">{counter+1}</f:variable>
              </f:then>
            </f:if>
            <f:if condition="{counter} == 3">
              <f:then>
               	</div> 
              	<f:variable name="counter">0</f:variable>
              	<div class="row mt-2"> 
              </f:then>
            </f:if>            
            <f:if condition="{schulehatwuv} == 1">
              <f:then>
                <f:if condition="{funktion26da} == 0 || {wirtschaftcounter} < 3">
                  <f:then>
                    <f:render section="Linkaufbau" arguments="{funktionuid: '26', vartext1: varww1, vartext2: varww2, fach: 'Wirtschaftsfächer'}" />          
                    <f:variable name="counter">{counter+1}</f:variable>
                  </f:then>
                </f:if>
              </f:then>
            </f:if>
            <f:if condition="{counter} == 3">
              <f:then>
               	</div> 
              	<f:variable name="counter">0</f:variable> 
              </f:then>
              <f:else>
                </div>
              </f:else>	
            </f:if>            
          <f:variable name="counter">0</f:variable>
          <div class="row mt-2">
            <f:if condition="{funktion27da} == 0 && {schulehatfranzoesisch} == 1">
              <f:then>
                <f:render section="Linkaufbau" arguments="{funktionuid: '27', vartext1: '', vartext2: '', fach: 'Französisch'}" />                  
                <f:variable name="counter">{counter+1}</f:variable>
              </f:then>
            </f:if>
            <f:if condition="{funktion28da} == 0 && {schulehatitalienisch} == 1">
              <f:then>
                <f:render section="Linkaufbau" arguments="{funktionuid: '28', vartext1: '', vartext2: '', fach: 'Italienisch'}" />                  
                <f:variable name="counter">{counter+1}</f:variable>
              </f:then>
            </f:if>
            <f:if condition="{funktion29da} == 0 && {schulehatlatein} == 1">
              <f:then>
                <f:render section="Linkaufbau" arguments="{funktionuid: '29', vartext1: '', vartext2: '', fach: 'Latein'}" />                  
                <f:variable name="counter">{counter+1}</f:variable>
              </f:then>
            </f:if>
            <f:if condition="{counter} == 3">
              <f:then>
               	</div> 
              	<f:variable name="counter">0</f:variable>
              	<div class="row mt-2"> 
              </f:then>
            </f:if>
            <f:if condition="{funktion31da} == 0 && {schulehatrussisch} == 1">
              <f:then>            
                <f:render section="Linkaufbau" arguments="{funktionuid: '31', vartext1: '', vartext2: '', fach: 'Russisch'}" />                  
                <f:variable name="counter">{counter+1}</f:variable>
              </f:then>
            </f:if>
            <f:if condition="{counter} == 3">
              <f:then>
               	</div> 
              	<f:variable name="counter">0</f:variable>
              	<div class="row mt-2"> 
              </f:then>
            </f:if>
            <f:if condition="{funktion30da} == 0 && {schulehatspanisch} == 1">
              <f:then>         
                <f:render section="Linkaufbau" arguments="{funktionuid: '30', vartext1: '', vartext2: '', fach: 'Spanisch'}" />                  
                <f:variable name="counter">{counter+1}</f:variable>
              </f:then>
            </f:if>
            <f:if condition="{counter} == 3">
              <f:then>
               	</div> 
              	<f:variable name="counter">0</f:variable> 
              </f:then>
              <f:else>
                </div>
              </f:else>	
            </f:if>                  
        </div>
      </div>

<f:section name="Fachbetreuung">
	<div class="mt-3 mb-3">
      <f:if condition="{personen}"><i class="fa-solid fa-circle-question"></i>
          <f:then>
            <div class="table-responsive-sm">         
              <table class="table table-striped table-bordered">
                  <thead>
                      <tr>
                          <th scope="col">Akad. Titel</th>
                          <th scope="col">Nachname</th>
                          <th scope="col">Vorname</th>
                          <th scope="col">Geschlecht</th>
                          <th scope="col">Funktion</th>						
                          <th scope="col"></th>
                          <th scope="col"></th>
                      </tr>
                  </thead>
                  <tbody>
                    <f:for each="{personen}" as="person" iteration="personIteration">
                      <f:for each="{person.funktionen}" as="funktion" iteration="funktionIteration">	
                        <f:if condition="{funktion.uid} > 10 && {funktion.uid} < 50">
                          <f:then>             
                            <tr>
                              <td>{person.titel}</td>
                              <td>{person.nachname}</td>
                              <td>{person.vorname}</td>
                              <f:if condition="{person.geschlecht.uid} == 1">
                                <f:then>
                                  <td>männlich</td>  
                                </f:then>
                                <f:else>
                                  <f:if condition="{person.geschlecht.uid} == 2">
                                    <f:then>
                                      <td>weiblich</td> 
                                    </f:then>
                                    <f:else>
                                      <f:if condition="{person.geschlecht.uid} == 3">
                                        <f:then>
                                          <td>divers</td>
                                        </f:then>
                                        <f:else>
                                        </f:else>
                                      </f:if>
                                    </f:else>
                                  </f:if>
                                </f:else>
                              </f:if>
                              <td>{funktion.bezeichnung}</td>
                              <td style="text-align:center"><f:link.action action="edit" class="btn btn-primary" arguments="{funktionuid: funktion.uid,person : person}"><i class="fas fa-pen me-2"></i>Ändern</f:link.action></td>
                              <td style="text-align:center"><f:link.action action="deleteft" class="btn btn-primary" arguments="{person : person}"><i class="fas fa-trash-alt me-2"></i>Löschen</f:link.action></td>
                            </tr>
                          </f:then>
                          <f:else>
                          </f:else>
                        </f:if>                        
                      </f:for>
                    </f:for>             
                  </tbody>
              </table>
            </div>
          </f:then>
          <f:else>
              <p>Bisher wurden keine Ansprechpartner für Fächer vorgegeben.</p>
          </f:else>
      </f:if>
	</div>
</f:section>
<f:section name="Linkaufbau">
  <div class="form-group col-md-4">
    <f:link.action class="btn btn-primary" controller="Person" action="newft" arguments="{funktionuid: funktionuid}" title="Einen {vartext1} Ansprechpartner für {fach} anlegen" ><i class="far fa-plus-square me-2"></i>{vartext2} Ansprechpartner {fach}</f:link.action>
  </div>  
</f:section>